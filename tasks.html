<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blockstream</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #121212;
    color: #ffffff;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden; /* Prevent body scrolling */
}
header {
    display: flex;
    align-items: center; /* Center items vertically */
    justify-content: space-between; /* Space between title and icon */
    background-color: #1e1e1e; /* Grey header */
    padding: 0px; /* Padding for the header */
    height: 50px;
    width: 100%; /* Full width */
    position: relative; /* Fixed position at top */
    z-index: 1000; /* Ensure it stays above other content */
}
h1 {
    margin: 0; /* Remove default margin */
    font-size: 24px; /* Adjust font size as needed */
    text-align: center; /* Center text */
    flex-grow: 1; /* Allow title to take available space */
}
.search-icon {
    font-size: 24px; /* Size of the search icon */
    cursor: pointer; /* Pointer cursor on hover */
    margin: 10px; /* Margin around the icon */
}
nav {
    display: flex;
    justify-content: center;
    padding: 0px;
    background-color: #1e1e1e;
    position:absolute;
    bottom: 0;
    left: 0px;; /* Allows the dashboard to be all the way to the left */
    width: 100%;
}
nav a {
    color: #ffffff;
    text-decoration: none; /* Remove underline from nav links */
    padding: 15px 20px;
    transition: background-color 0.3s;
}
nav a:hover {
    background-color: #333333;
}
.page {
    display: none;
}
.page.active {
    display: block;
}
.content {
    padding: 15px 15px;
    flex-grow: 1;
    margin: -5px 10px;
    margin-bottom: 50px; /* To prevent content overlap with the nav */
    overflow-y: auto; /* Allow scrolling in the content area */
}
.tabs {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
}
.tab {
    padding: 5px 5px;
    border-radius: 5px;
    margin: 5px;
    background-color: #1e1e1e;
    cursor: pointer;
    transition: background-color 0.3s;
    text-align: center;
}
.tab.active {
    background-color: #333333; /* Highlight active tab */
}
.task-card {
    display:flex;
    align-items:center;
    background-color: #1e1e1e;
    padding: 10px;
    margin: 10px 5px; /* First px is space between cards, second is align left/right */
    margin-bottom: 10px;
    border-radius: 5px;
    max-width: 320px; /* Set a maximum width */
    width: 100%; /* Allow it to be responsive */
}
.task-details { 
    flex-grow: 1; 
}
.task-list {
    display: flex;
    flex-direction: column; /* Stack cards vertically */
    align-items: right; /* Center cards horizontally */
}
.task-logo {
    width: 50px; 
    height: 50px; 
    margin-right: 20px; 
}
.task-title { 
    font-weight:bold; 
    margin:0; 
}
.task-points, .task-completion { 
    margin:5px 0; 
}
.task-participants { 
    font-size:.9em; 
    color:#aaaaaa; 
}
</style>
</head>
<body>
    <header>
        <span class="search-icon" onclick="navigateToSearch()">üîç</span> <!-- Search icon -->
        <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
        <div class="wallet-section">
            <div id="ton-connect"></div>
    </header>
<div class="content" id="content">
    <div id="tasks" class="page active">
        <h2>Tasks</h2>
        <p>Complete tasks to earn points by following us on social media or completing quests.</p>
            <div class="tabs">
                <div class="tab" onclick="showTab('all', 'parter', 'blockstream')">
                All Tasks (4)
                </div>
                <div class="tab" onclick="showTab('partner')">
                Partner Tasks (1)
                </div>
                <div class="tab" onclick="showTab('blockstream')">
                Blockstream Tasks (3)
            </div>
         </div>
        
         <div id="all" class="task-list" style="display: block;">
            <!-- All tasks will be shown here -->
        </div>

        <div id="partner" class="task-list" style="display: block;">
            <div class="task-card">
                <img src="logo4.png" alt="Task Logo" class="task-logo">
                <div class="task-details">
                    <p class="task-title">Partner Task 1</p>
                    <p class="task-points">Points: 30</p>
                    <p class="task-completion">Completed: 1/1</p>
                    <p class="task-participants">Participants: 10</p>
                </div>
            </div>
        </div>
        
        <div id="blockstream" class="task-list" style="display: block;">
        <div class="task-card">
        <img src="logo4.png" alt="Task Logo" class="task-logo">
        <div class="task-details">
            <p class="task-title">Task A Title</p>
            <p class="task-points">Points: 30</p>
            <p class="task-completion">Completed: 1/1</p>
            <p class="task-participants">Participants: 10</p>
        </div>
    </div>
        <div class="task-card">
            <img src="logo5.png" alt="Task Logo" class="task-logo">
            <div class="task-details">
                <p class="task-title">Task B Title</p>
                <p class="task-points">Points: 25</p>
                <p class="task-completion">Completed: 2/2</p>
                <p class="task-participants">Participants: 5</p>
            </div>
        </div>
        <div class="task-card">
            <img src="logo6.png" alt="Task Logo" class="task-logo">
            <div class="task-details">
                <p class="task-title">Task C Title</p>
                <p class="task-points">Points: 15</p>
                <p class="task-completion">Completed: 0/1</p>
                <p class="task-participants">Participants: 3</p>
            </div>
        </div>
    
        
        <!-- Add more tasks as needed -->
    </div>
    <div>
    <footer>
    <nav>
        <a href="index.html" onclick="showPage('home')">Home</a>
        <a href="tasks.html" onclick ="showPage('tasks')">Tasks</a> <!-- Link to tasks.html -->
        <a href="leaderboard.html" onclick="showPage('leaderboard')">Leaderboard</a>
        <a href="account.html" onclick="showPage('account')">Account</a> 
    </nav>
    </footer>
    </div>
    <script>
    
    function navigateToSearch() {
            window.location.href = 'search.html'; // Redirects to search.html
        }
    // Function to switch between tabs
    function showTab(tab) {
    const allTab = document.getElementById('all');
    const partnerTab = document.getElementById('partner');
    const blockstreamTab = document.getElementById('blockstream');

    // Reset all tabs to hidden by default
    partnerTab.style.display = 'none';
    blockstreamTab.style.display = 'none';

    // Remove the `active` class from all tabs
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

    if (tab === 'all') {
        // Show both Partner and Blockstream tasks
        partnerTab.style.display = 'block';
        blockstreamTab.style.display = 'block';

        // Activate the All tab
        document.querySelector('.tab:nth-child(1)').classList.add('active'); // All tab is the 1st child
    } else if (tab === 'partner') {
        // Show only Partner tasks
        partnerTab.style.display = 'block';

        // Activate the Partner tab
        document.querySelector('.tab:nth-child(2)').classList.add('active'); // Partner tab is the 2nd child
    } else if (tab === 'blockstream') {
        // Show only Blockstream tasks
        blockstreamTab.style.display = 'block';

        // Activate the Blockstream tab
        document.querySelector('.tab:nth-child(3)').classList.add('active'); // Blockstream tab is the 3rd child
    }
}
              // Initialize TON Connect UI
              const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: 'https://eldertree17.github.io/blockstreamv2/tonconnect-manifest.json',
        buttonRootId: 'ton-connect'
      });
  
      // Function to connect wallet
      async function connectWallet() {
        try {
          const wallet = await tonConnectUI.connect();
          console.log('Wallet connected:', wallet);
          alert('Wallet connected: ' + JSON.stringify(wallet));
          // Update UI or perform actions after successful connection
        } catch (error) {
          console.error('Failed to connect wallet:', error);
          alert('Failed to connect wallet: ' + error.message);
        }
      }
  
      // Function to send TON transaction
      async function sendTonTransaction() {
        try {
          const transaction = await tonConnectUI.sendTransaction({
            to: 'YOUR_TON_WALLET_ADDRESS',
            value: '1', // Amount in TON
            data: 'Hello, TON!'
          });
          console.log('Transaction sent:', transaction);
          alert('Transaction sent: ' + JSON.stringify(transaction));
        } catch (error) {
          console.error('Failed to send transaction:', error);
          alert('Failed to send transaction: ' + error.message);
        }
      }
  
      // Button event listeners
      document.getElementById("connectWalletBtn").addEventListener("click", connectWallet);
      document.getElementById("sendTransactionBtn").addEventListener("click", sendTonTransaction);
    </script>
    
    </body>
    </html>
    